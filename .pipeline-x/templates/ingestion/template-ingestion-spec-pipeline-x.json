{
  "name": "SPEC / INGEST Workflow Template",
  "description": "Ensures SPEC stage begins only when structural plan inputs are ready and guards hold.",
  "version": "0.1.0",
  "category": "ingestion",
  "stage": "SPEC",
  "subflow": "INGEST",
  "placeholders": {
    "job_id": "JOB-0000",
    "artifact_path": "specs/notes/<job_id>-spec-ingest.md",
    "handoff_path": "plans/handoffs/<job_id>-plan-to-spec.md"
  },
  "inputs": [
    "job.stage MUST equal SPEC and job.subflow MUST equal INGEST.",
    "structure_plan_ok MUST be TRUE; lock MUST be active; job.status MUST be working; job.halted MUST be FALSE.",
    "PLAN handoff artifact_path MUST exist and be reviewed before progressing.",
    "Operator MUST confirm SPEC scope boundaries and any constraints from upstream governance docs."
  ],
  "steps": [
    "Verify structure_plan_ok and guard bits; HALT if any dependency is missing.",
    "Read the PLANâ†’SPEC handoff and extract todos, open risks, and acceptance context into artifact_path.",
    "Summarize structural responsibilities (what SPEC must elaborate) and capture unknowns for PROCESS.",
    "Log gating confirmation referencing lock state and date/time."
  ],
  "outputs": [
    "artifact_path describing SPEC entry conditions, assumptions, and unresolved items.",
    "Acknowledgement that PLAN handoff was ingested and matched to job_id."
  ],
  "acceptance": [
    "structure_plan_ok status MUST be recorded in artifact_path.",
    "All assumptions MUST tie back to PLAN evidence so PROCESS can elaborate without re-ingesting inputs.",
    "Operator MUST acknowledge SPEC ingress summary prior to PROCESS start."
  ]
}
