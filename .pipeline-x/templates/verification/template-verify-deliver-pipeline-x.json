{
  "name": "DELIVER / VERIFY Workflow Template",
  "description": "Confirms all DELIVER gates (tests, plan approval, release approval) before advancing to DONE.",
  "version": "0.1.0",
  "category": "verify",
  "stage": "DELIVER",
  "subflow": "VERIFY",
  "placeholders": {
    "job_id": "JOB-0000",
    "artifact_path": "deliver/handoffs/<job_id>-deliver-verify.md",
    "approval_log": "deliver/approvals/<job_id>-release.md"
  },
  "inputs": [
    "job.stage MUST equal DELIVER and job.subflow MUST equal VERIFY.",
    "tests_pass MUST be TRUE; plan_approved MUST be TRUE; release_approved MAY still be pending but MUST be tracked.",
    "DELIVER OUT package MUST be complete with deliverable manifest and blockers.",
    "Guards MUST remain TRUE and job.halted MUST be FALSE."
  ],
  "steps": [
    "Review DELIVER OUT artifact and ensure each deliverable has matching test evidence.",
    "Update approval_log with plan_approved + release_approved statuses, decision makers, and timestamps.",
    "If any gate is missing, record HALT or remediation plan; otherwise document readiness to advance to DONE.",
    "Prepare final handoff summary for operators, including rollback notes and support instructions." 
  ],
  "outputs": [
    "artifact_path containing verification checklist results, approvals, and DONE readiness statement.",
    "approval_log capturing final signatures for plan + release gates." 
  ],
  "acceptance": [
    "tests_pass, plan_approved, and release_approved MUST all be TRUE before requesting ADVANCE_FROM_DELIVER.",
    "Any exceptions MUST trigger HALT with documented reason and owner.",
    "Handoff summary MUST tell downstream users how to consume deliverables and escalate issues." 
  ]
}
